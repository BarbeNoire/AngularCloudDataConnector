<!--
Copyright © Microsoft Open Technologies, Inc.

All Rights Reserved

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at 

http://www.apache.org/licenses/LICENSE-2.0 

THIS CODE IS PROVIDED *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE, MERCHANTABLITY OR NON-INFRINGEMENT. 

See the Apache 2 License for the specific language governing permissions and limitations under the License.
-->
<!doctype html>
<html lang="en" ng-app="testAODataFx">
<head>
    <meta charset="utf-8">
    <title>Angular Offline Data FX Test</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">

    <script src="//ajax.aspnetcdn.com/ajax/mobileservices/MobileServices.Web-1.1.0.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.0/angular.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.0/angular-route.js"></script>
    <script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-1.10.2.min.js"></script>
    <script src="//ajax.aspnetcdn.com/ajax/bootstrap/3.1.1/bootstrap.min.js"></script>
    <script src="../../Core/database.js"></script>
    <script src="../../Core/offlineRecorder.js"></script>
    <script src="../../Core/connectivityService.js"></script>
    <script src="../../Providers/azureDataService.js"></script>
    <script src="js/app.js"></script>
    <script src="js/controllers.js"></script>
</head>
<body ng-controller="pageController">
    <div>
        <div class="page-header">
            <h1>Properties<span class="badge">{{Properties_Test.length}}</span></h1>
        </div>
        <div>
            <label>Online Status:</label>
            <div class="btn-group">
                <label class="btn btn-default">
                    <input type="radio" ng-model="onlineStatus" value="online" ng-change="updateOnlineStatus()"> Online
                </label>
                <label class="btn btn-default">
                    <input type="radio" ng-model="onlineStatus" value="local" ng-change="updateOnlineStatus()"> Offline
                </label>
            </div>
        </div>
        <div id="errorMessage" ng-bind="errorMessage" class="alert">
        </div>

        <div id="workingZone">
            <label>Sort:</label>
            <div class="btn-group">
                <button type="button" class="btn btn-default btn-sm" ng-click="sortOrder['properties']='address'">
                    <span class="glyphicon" ng-class="{'glyphicon-arrow-down' : sortOrder['properties']=='address'}" />
                    Address
                </button>
                <button type="button" class="btn btn-default btn-sm" ng-click="sortOrder['properties']='updateDate'">
                    <span class="glyphicon" ng-class="{'glyphicon-arrow-down' : sortOrder['properties']=='updateDate'}" />
                    Updated
                </button>
                <button type="button" class="btn btn-default btn-sm" ng-click="sortOrder['properties']='id'">
                    <span class="glyphicon" ng-class="{'glyphicon-arrow-down' : sortOrder['properties']=='id'}" />
                    Property ID
                </button>
            </div>

            <div>
                <ul class="list-group">
                    <li class="list-group-item" ng-repeat="property in Properties_Test | orderBy:sortOrder['properties']">
                        <button type="button" class="btn btn-default pull-right" ng-click="data.delete('Properties_Test', property)">
                            <span class="glyphicon glyphicon-remove"></span>
                        </button>
                        <div class="PropertyID"><div class="text-success h3"><a href="#/property/{{property.id}}">{{property.address}}</a></div></div>
                    </li>
                </ul>
            </div>
        </div>
        <div class="form-group">
            <label for="addAddress">Address</label>
            <input ng-model="newProperty.address" type="text" class="form-control" id="addAddress" placeholder="Enter address for new property">
        </div>
        <div class="btn-group">
            <button id="addNewButton" class="btn btn-default" ng-click="data.add('Properties_Test', newProperty)">
                Add New
            </button>
        </div>
    </div>
</body>
</html>
